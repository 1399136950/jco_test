cat /opt/log/upgrade.log
UPGRADE updateExt.sh exec begin@Mon Apr  1 19:01:25 UTC 2019
UPGRADE updateExt.sh mv begin@Mon Apr  1 19:01:26 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Mon Apr  1 19:01:27 UTC 2019
UPGRADE updateExt.sh exec _end_@Mon Apr  1 19:01:28 UTC 2019
UPGRADE updateExt.sh exec begin@Mon Apr  1 19:56:44 UTC 2019
UPGRADE updateExt.sh mv begin@Mon Apr  1 19:56:45 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Mon Apr  1 19:56:46 UTC 2019
UPGRADE updateExt.sh exec _end_@Mon Apr  1 19:56:47 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  2 10:21:54 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  2 10:21:55 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  2 10:21:56 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  2 10:21:57 UTC 2019
UPGRADE updateExt.sh exec begin@Wed Apr  3 15:09:45 UTC 2019
UPGRADE updateExt.sh mv begin@Wed Apr  3 15:09:46 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Wed Apr  3 15:09:48 UTC 2019
UPGRADE updateExt.sh exec _end_@Wed Apr  3 15:09:49 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 14:08:10 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 14:08:11 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 14:08:13 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 14:08:14 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 14:42:51 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 14:42:52 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 14:42:54 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 14:42:55 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 23:10:38 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 23:10:39 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 23:10:40 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 23:10:40 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 23:11:35 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 23:11:36 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 23:11:37 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 23:11:38 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 23:20:34 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 23:20:35 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 23:20:36 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 23:20:37 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 23:26:50 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 23:26:51 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 23:26:52 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 23:26:52 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 23:32:42 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 23:32:42 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 23:32:43 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 23:32:44 UTC 2019
UPGRADE updateExt.sh exec begin@Thu Apr  4 23:37:33 UTC 2019
UPGRADE updateExt.sh mv begin@Thu Apr  4 23:37:34 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Thu Apr  4 23:37:35 UTC 2019
UPGRADE updateExt.sh exec _end_@Thu Apr  4 23:37:36 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 15:58:44 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 15:58:45 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 15:58:46 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 15:58:47 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:40:12 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:40:13 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:40:15 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:40:15 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:46:39 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:46:40 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:46:41 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:46:42 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:48:52 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:48:53 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:48:54 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:48:55 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:50:09 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:50:10 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:50:11 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:50:12 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:53:04 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:53:05 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:53:07 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:53:08 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:55:06 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:55:07 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:55:08 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:55:09 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:57:06 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:57:07 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:57:08 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:57:09 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:54:42 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:54:43 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:54:44 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:54:45 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 16:56:41 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 16:56:42 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 16:56:43 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 16:56:44 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:03:18 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:03:19 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:03:20 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:03:21 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:05:20 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:05:21 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:05:22 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:05:23 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:03:04 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:03:05 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:03:06 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:03:07 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:41:01 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:41:02 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:41:03 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:41:04 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:46:19 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:46:20 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:46:22 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:46:22 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:43:54 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:43:55 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:43:56 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:43:57 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:46:06 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:46:07 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:46:08 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:46:08 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:48:17 UTC 2019
UPGRADE updateExt.sh mv begin@Tue Apr  9 17:48:17 UTC 2019
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:48:19 UTC 2019
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:48:20 UTC 2019
+ + + cat /proc/cmdlinegrep cpu=
+ 
xargs -n1
awk -F= {print $2}
+ CPUTYPE=SSC325
+ [ SSC325 != SSC325 ]
+ ccli update -act set -type 1
[Success]


+ package=/tmp/upgrade.tgz
+ PATH=/tmp/upgrade/upTools:/ipc/bin:/bin:/sbin:/usr/bin:/usr/sbin
+ fn_prog_bar_start
+ total_secs=25
+ date +%s
+ start=1554832481
+ xtar_secs=7
+ let start=start-xtar_secs
+ sync
+ set +x
+ unload_module
+ echo unload_module!
unload_module!
+ free
             total       used       free     shared    buffers     cached
Mem:         33156      25280       7876       6212         76      11392
-/+ buffers/cache:      13812      19344
Swap:            0          0          0
+ fn_prog_bar_set __4
+ date +%s
+ curr=1554832481
+ let prog_bar=100*(curr-start)/total_secs
+ [ 28 -ge 100 ]
+ echo ----- 28% __4 ----
----- 28% __4 ----
+ ccli update -act set -progressbar 28
[Success]


+ date
+ echo UPGRADE updateExt.sh exec begin@Tue Apr  9 17:54:41 UTC 2019
UPGRADE updateExt.sh exec begin@Tue Apr  9 17:54:41 UTC 2019
+ fn_upgrade0
+ fn_prog_bar_set __3
+ date +%s
+ curr=1554832481
+ let prog_bar=100*(curr-start)/total_secs
+ [ 28 -ge 100 ]
+ echo ----- 28% __3 ----
----- 28% __3 ----
+ ccli update -act set -progressbar 28
[Success]
cmdline & xml are the same!

+ cd /tmp
+ src_file=/tmp/upgrade.tgz
+ + awkls {print $ 5} -l
 /tmp/upgrade.tgz
+ tgz_size=6259323
+ let skip_size=tgz_size
+ fn_unpack_opt
+ set +x
get header info: truncate 7276 resv 4c115058e1b1ffd7fd3775bf881fa2c0
get header info: uptools.tgz 71958 resv b273c371d024ee445ce98226765148e6
get header info: mtd4 4628480 PS5280_IMX307 7858d07694dd3203a99cafa9ed3f7e27
get header info: mtd2 1352264 resv ee9a9fb4136fc1704d28f12531a3a7ce
get header info: mtd0 164572 resv 83ca2f757ab2396d61704aa143048da2
get header info: opt.tgz 34341 resv e0fe216bf87b966dfb66f9a27543a4e9
----- 32% __1 ----
[Success]


UPGRADE updateExt.sh mv begin@Tue Apr  9 17:54:42 UTC 2019

PS5280
IMX307
flash_type BH25Q64BS
dev_type from .tgz: 325_base
up conf
grep: /opt/conf/customfile.add.list: No such file or directory
up custom/other.amr
grep: /opt/conf/customfile.add.list: No such file or directory
up custom/motion.amr
grep: /opt/conf/customfile.add.list: No such file or directory
up custom/vg.amr
grep: /opt/conf/customfile.add.list: No such file or directory
up custom/logo.png
grep: /opt/conf/customfile.add.list: No such file or directory
up custom/login_main.png
Release   2019-03-28.17:29:27@192.168.2.215
Platforms HDXGP2P
Revirsion 
Option    -d 0 -o 100 -t 0 -i \

    +-----------------------------------------------------------+
    |                                                           |
    |              UPGRADE SUCCESSFUL, ENJOY IT!                |
    |                                                           |
    +-----------------------------------------------------------+
    
UPGRADE updateExt.sh mv _end_@Tue Apr  9 17:54:43 UTC 2019
+ sync
+ cd /opt/conf
+ xml_shuttle -i -c a -f upgrade.add.pair config.xml
+ xt_ret 0 config
+ [ 0 = 0 ]
+ return 0
+ xml_shuttle -i -c w -f upgrade.mod.pair config.xml
+ xt_ret 0 config
+ [ 0 = 0 ]
+ return 0
+ sync
+ let skip_size=tgz_size
+ fn_unpack_rest
+ truncate=/tmp/bin/truncate
+ mkdir -p /tmp/bin
+ cd /tmp
+ cp /bin/busybox flash_eraseall
+ ln -s flash_eraseall flashcp
+ retryrest=10
+ [ 10 -ge 0 ]
+ fn_unpack_img
+ set +x
get header info: truncate 7276 resv 4c115058e1b1ffd7fd3775bf881fa2c0
PATH:/tmp/bin:/tmp/upgrade/upTools:/ipc/bin:/bin:/sbin:/usr/bin:/usr/sbin
get header info: uptools.tgz 71958 resv b273c371d024ee445ce98226765148e6
----- 40% __2 ----
[Success]


PATH:/tmp/upgrade/upTools:/tmp/bin:/tmp/upgrade/upTools:/ipc/bin:/bin:/sbin:/usr/bin:/usr/sbin
/usr/bin/nc
/bin/mv
/tmp/upgrade/upTools/mtd_debug
/tmp/upgrade/upTools/mtd_md5sum
UPGRADE updateExt.sh exec _end_@Tue Apr  9 17:54:44 UTC 2019
sleep 5s to keep the 100% status for webpage
----- 100 __1 ----
[Success]


---- it takes 10 on upgrade ----
  PID USER       VSZ STAT COMMAND
    1 root      1004 S    {linuxrc} init
    2 root         0 SW   [kthreadd]
    3 root         0 SW   [ksoftirqd/0]
    4 root         0 SW   [kworker/0:0]
    5 root         0 SW<  [kworker/0:0H]
    6 root         0 SW   [kworker/u2:0]
    7 root         0 SW   [rcu_preempt]
    8 root         0 SW   [rcu_sched]
    9 root         0 SW   [rcu_bh]
   10 root         0 SW<  [lru-add-drain]
   11 root         0 SW   [watchdog/0]
   12 root         0 SW   [kdevtmpfs]
   13 root         0 SW   [kworker/u2:1]
  131 root         0 SW   [oom_reaper]
  132 root         0 SW<  [writeback]
  134 root         0 SW   [kcompactd0]
  135 root         0 SW<  [crypto]
  136 root         0 SW<  [bioset]
  138 root         0 SW<  [kblockd]
  155 root         0 SW<  [watchdogd]
  167 root         0 SW   [kworker/0:1]
  179 root         0 SW   [kswapd0]
  295 root         0 SW<  [bioset]
  300 root         0 SW<  [bioset]
  305 root         0 SW<  [bioset]
  310 root         0 SW<  [bioset]
  315 root         0 SW<  [bioset]
  320 root         0 SW<  [bioset]
  331 root         0 SW<  [cryptodev_queue]
  346 root         0 SW<  [kworker/0:1H]
  371 root      1000 S    syslogd -s 60 -S -O /tmp/messages
  377 root         0 SWN  [jffs2_gcd_mtd5]
  378 root      1016 S    sh /ipc/etc/auto_run.sh
  379 root      1004 S    /bin/login --
  422 root         0 SWN  [IspDriverThread]
  426 root         0 SWN  [IspMidThreadWq]
  437 root         0 SW<  [mi_sys_debug wq]
  439 root         0 DW   [miLodUdiskTask]
  474 root      1000 S    telnetd -p9527
  475 root      1016 S    sh /ipc/etc/auto_run.sh
  477 root       996 S    sleep 300
  483 root      1000 S    telnetd -p24
  488 root     94460 S    /ipc/app/jco_server
  497 root         0 DW   [vif0_P0_MAIN]
  498 root         0 DW   [vpe0_P0_MAIN]
  499 root         0 DW   [vpe0_P1_MAIN]
  500 root         0 DW   [vpe0_P2_MAIN]
  502 root         0 DW   [divp0_P0_MAIN]
  503 root         0 SW   [kworker/0:2]
  505 root         0 SW<  [RGN BUF WQ]
  511 root         0 DW   [venc0_P0_MAIN]
  512 root         0 DW   [venc1_P0_MAIN]
  562 root      1004 S    sh -c /tmp/updateExt.sh /tmp/upgrade.tgz
  563 root      1040 S    {updateExt.sh} /bin/sh /tmp/updateExt.sh /tmp/upgrad
  570 root      1048 S    {updateExt.sh} /bin/sh /tmp/updateExt.sh /tmp/upgrad
  571 root      1004 S    tee -a /opt/log/upgrade.log
  854 root      1004 R    ps
auto_run.sh is exist, kill it.
auto_run.sh exit complete
jco_server is exist, kill it.
jco_server exit complete
get header info: mtd4 4628480 PS5280_IMX307 7858d07694dd3203a99cafa9ed3f7e27
-------- do mtd4 ---------
Erasing 32 Kibyte @ 0 -  0% complete.Erasing 32 Kibyte @ 8000 -  0% complete.Erasing 32 Kibyte @ 10000 -  1% complete.Erasing 32 Kibyte @ 18000 -  2% complete.Erasing 32 Kibyte @ 20000 -  2% complete.Erasing 32 Kibyte @ 28000 -  3% complete.Erasing 32 Kibyte @ 30000 -  4% complete.Erasing 32 Kibyte @ 38000 -  4% complete.Erasing 32 Kibyte @ 40000 -  5% complete.Erasing 32 Kibyte @ 48000 -  6% complete.Erasing 32 Kibyte @ 50000 -  6% complete.Erasing 32 Kibyte @ 58000 -  7% complete.Erasing 32 Kibyte @ 60000 -  8% complete.Erasing 32 Kibyte @ 68000 -  8% complete.Erasing 32 Kibyte @ 70000 -  9% complete.Erasing 32 Kibyte @ 78000 - 10% complete.Erasing 32 Kibyte @ 80000 - 10% complete.Erasing 32 Kibyte @ 88000 - 11% complete.Erasing 32 Kibyte @ 90000 - 12% complete.Erasing 32 Kibyte @ 98000 - 12% complete.Erasing 32 Kibyte @ a0000 - 13% complete.Erasing 32 Kibyte @ a8000 - 14% complete.Erasing 32 Kibyte @ b0000 - 14% complete.Erasing 32 Kibyte @ b8000 - 15% complete.Erasing 32 Kibyte @ c0000 - 16% complete.Erasing 32 Kibyte @ c8000 - 16% complete.Erasing 32 Kibyte @ d0000 - 17% complete.Erasing 32 Kibyte @ d8000 - 18% complete.Erasing 32 Kibyte @ e0000 - 18% complete.Erasing 32 Kibyte @ e8000 - 19% complete.Erasing 32 Kibyte @ f0000 - 20% complete.Erasing 32 Kibyte @ f8000 - 20% complete.Erasing 32 Kibyte @ 100000 - 21% complete.Erasing 32 Kibyte @ 108000 - 22% complete.Erasing 32 Kibyte @ 110000 - 22% complete.Erasing 32 Kibyte @ 118000 - 23% complete.Erasing 32 Kibyte @ 120000 - 24% complete.Erasing 32 Kibyte @ 128000 - 24% complete.Erasing 32 Kibyte @ 130000 - 25% complete.Erasing 32 Kibyte @ 138000 - 26% complete.Erasing 32 Kibyte @ 140000 - 26% complete.Erasing 32 Kibyte @ 148000 - 27% complete.Erasing 32 Kibyte @ 150000 - 28% complete.Erasing 32 Kibyte @ 158000 - 28% complete.Erasing 32 Kibyte @ 160000 - 29% complete.Erasing 32 Kibyte @ 168000 - 30% complete.Erasing 32 Kibyte @ 170000 - 30% complete.Erasing 32 Kibyte @ 178000 - 31% complete.Erasing 32 Kibyte @ 180000 - 32% complete.Erasing 32 Kibyte @ 188000 - 32% complete.Erasing 32 Kibyte @ 190000 - 33% complete.Erasing 32 Kibyte @ 198000 - 34% complete.Erasing 32 Kibyte @ 1a0000 - 34% complete.Erasing 32 Kibyte @ 1a8000 - 35% complete.Erasing 32 Kibyte @ 1b0000 - 36% complete.Erasing 32 Kibyte @ 1b8000 - 36% complete.Erasing 32 Kibyte @ 1c0000 - 37% complete.Erasing 32 Kibyte @ 1c8000 - 38% complete.Erasing 32 Kibyte @ 1d0000 - 38% complete.Erasing 32 Kibyte @ 1d8000 - 39% complete.Erasing 32 Kibyte @ 1e0000 - 40% complete.Erasing 32 Kibyte @ 1e8000 - 40% complete.Erasing 32 Kibyte @ 1f0000 - 41% complete.Erasing 32 Kibyte @ 1f8000 - 42% complete.Erasing 32 Kibyte @ 200000 - 42% complete.Erasing 32 Kibyte @ 208000 - 43% complete.Erasing 32 Kibyte @ 210000 - 44% complete.Erasing 32 Kibyte @ 218000 - 44% complete.Erasing 32 Kibyte @ 220000 - 45% complete.Erasing 32 Kibyte @ 228000 - 46% complete.Erasing 32 Kibyte @ 230000 - 46% complete.Erasing 32 Kibyte @ 238000 - 47% complete.Erasing 32 Kibyte @ 240000 - 48% complete.Erasing 32 Kibyte @ 248000 - 48% complete.Erasing 32 Kibyte @ 250000 - 49% complete.Erasing 32 Kibyte @ 258000 - 50% complete.Erasing 32 Kibyte @ 260000 - 51% complete.Erasing 32 Kibyte @ 268000 - 51% complete.Erasing 32 Kibyte @ 270000 - 52% complete.Erasing 32 Kibyte @ 278000 - 53% complete.Erasing 32 Kibyte @ 280000 - 53% complete.Erasing 32 Kibyte @ 288000 - 54% complete.Erasing 32 Kibyte @ 290000 - 55% complete.Erasing 32 Kibyte @ 298000 - 55% complete.Erasing 32 Kibyte @ 2a0000 - 56% complete.Erasing 32 Kibyte @ 2a8000 - 57% complete.Erasing 32 Kibyte @ 2b0000 - 57% complete.Erasing 32 Kibyte @ 2b8000 - 58% complete.Erasing 32 Kibyte @ 2c0000 - 59% complete.Erasing 32 Kibyte @ 2c8000 - 59% complete.Erasing 32 Kibyte @ 2d0000 - 60% complete.Erasing 32 Kibyte @ 2d8000 - 61% complete.Erasing 32 Kibyte @ 2e0000 - 61% complete.Erasing 32 Kibyte @ 2e8000 - 62% complete.Erasing 32 Kibyte @ 2f0000 - 63% complete.Erasing 32 Kibyte @ 2f8000 - 63% complete.Erasing 32 Kibyte @ 300000 - 64% complete.Erasing 32 Kibyte @ 308000 - 65% complete.Erasing 32 Kibyte @ 310000 - 65% complete.Erasing 32 Kibyte @ 318000 - 66% complete.Erasing 32 Kibyte @ 320000 - 67% complete.Erasing 32 Kibyte @ 328000 - 67% complete.Erasing 32 Kibyte @ 330000 - 68% complete.Erasing 32 Kibyte @ 338000 - 69% complete.Erasing 32 Kibyte @ 340000 - 69% complete.Erasing 32 Kibyte @ 348000 - 70% complete.Erasing 32 Kibyte @ 350000 - 71% complete.Erasing 32 Kibyte @ 358000 - 71% complete.Erasing 32 Kibyte @ 360000 - 72% complete.Erasing 32 Kibyte @ 368000 - 73% complete.Erasing 32 Kibyte @ 370000 - 73% complete.Erasing 32 Kibyte @ 378000 - 74% complete.Erasing 32 Kibyte @ 380000 - 75% complete.Erasing 32 Kibyte @ 388000 - 75% complete.Erasing 32 Kibyte @ 390000 - 76% complete.Erasing 32 Kibyte @ 398000 - 77% complete.Erasing 32 Kibyte @ 3a0000 - 77% complete.Erasing 32 Kibyte @ 3a8000 - 78% complete.Erasing 32 Kibyte @ 3b0000 - 79% complete.Erasing 32 Kibyte @ 3b8000 - 79% complete.Erasing 32 Kibyte @ 3c0000 - 80% complete.Erasing 32 Kibyte @ 3c8000 - 81% complete.Erasing 32 Kibyte @ 3d0000 - 81% complete.Erasing 32 Kibyte @ 3d8000 - 82% complete.Erasing 32 Kibyte @ 3e0000 - 83% complete.Erasing 32 Kibyte @ 3e8000 - 83% complete.Erasing 32 Kibyte @ 3f0000 - 84% complete.Erasing 32 Kibyte @ 3f8000 - 85% complete.Erasing 32 Kibyte @ 400000 - 85% complete.Erasing 32 Kibyte @ 408000 - 86% complete.Erasing 32 Kibyte @ 410000 - 87% complete.Erasing 32 Kibyte @ 418000 - 87% complete.Erasing 32 Kibyte @ 420000 - 88% complete.Erasing 32 Kibyte @ 428000 - 89% complete.Erasing 32 Kibyte @ 430000 - 89% complete.Erasing 32 Kibyte @ 438000 - 90% complete.Erasing 32 Kibyte @ 440000 - 91% complete.Erasing 32 Kibyte @ 448000 - 91% complete.Erasing 32 Kibyte @ 450000 - 92% complete.Erasing 32 Kibyte @ 458000 - 93% complete.Erasing 32 Kibyte @ 460000 - 93% complete.Erasing 32 Kibyte @ 468000 - 94% complete.Erasing 32 Kibyte @ 470000 - 95% complete.Erasing 32 Kibyte @ 478000 - 95% complete.Erasing 32 Kibyte @ 480000 - 96% complete.Erasing 32 Kibyte @ 488000 - 97% complete.Erasing 32 Kibyte @ 490000 - 97% complete.Erasing 32 Kibyte @ 498000 - 98% complete.Erasing 32 Kibyte @ 4a0000 - 99% complete.Erasing 32 Kibyte @ 4a8000 - 100% complete.
Write mtd4 complete!
-------- do mtd4 succ-----
get header info: mtd2 1352264 resv ee9a9fb4136fc1704d28f12531a3a7ce
-------- do mtd2 ---------
Erasing 32 Kibyte @ 0 -  0% complete.Erasing 32 Kibyte @ 8000 -  2% complete.Erasing 32 Kibyte @ 10000 -  4% complete.Erasing 32 Kibyte @ 18000 -  6% complete.Erasing 32 Kibyte @ 20000 -  8% complete.Erasing 32 Kibyte @ 28000 - 10% complete.Erasing 32 Kibyte @ 30000 - 13% complete.Erasing 32 Kibyte @ 38000 - 15% complete.Erasing 32 Kibyte @ 40000 - 17% complete.Erasing 32 Kibyte @ 48000 - 19% complete.Erasing 32 Kibyte @ 50000 - 21% complete.Erasing 32 Kibyte @ 58000 - 23% complete.Erasing 32 Kibyte @ 60000 - 26% complete.Erasing 32 Kibyte @ 68000 - 28% complete.Erasing 32 Kibyte @ 70000 - 30% complete.Erasing 32 Kibyte @ 78000 - 32% complete.Erasing 32 Kibyte @ 80000 - 34% complete.Erasing 32 Kibyte @ 88000 - 36% complete.Erasing 32 Kibyte @ 90000 - 39% complete.Erasing 32 Kibyte @ 98000 - 41% complete.Erasing 32 Kibyte @ a0000 - 43% complete.Erasing 32 Kibyte @ a8000 - 45% complete.Erasing 32 Kibyte @ b0000 - 47% complete.Erasing 32 Kibyte @ b8000 - 50% complete.Erasing 32 Kibyte @ c0000 - 52% complete.Erasing 32 Kibyte @ c8000 - 54% complete.Erasing 32 Kibyte @ d0000 - 56% complete.Erasing 32 Kibyte @ d8000 - 58% complete.Erasing 32 Kibyte @ e0000 - 60% complete.Erasing 32 Kibyte @ e8000 - 63% complete.Erasing 32 Kibyte @ f0000 - 65% complete.Erasing 32 Kibyte @ f8000 - 67% complete.Erasing 32 Kibyte @ 100000 - 69% complete.Erasing 32 Kibyte @ 108000 - 71% complete.Erasing 32 Kibyte @ 110000 - 73% complete.Erasing 32 Kibyte @ 118000 - 76% complete.Erasing 32 Kibyte @ 120000 - 78% complete.Erasing 32 Kibyte @ 128000 - 80% complete.Erasing 32 Kibyte @ 130000 - 82% complete.Erasing 32 Kibyte @ 138000 - 84% complete.Erasing 32 Kibyte @ 140000 - 86% complete.Erasing 32 Kibyte @ 148000 - 89% complete.Erasing 32 Kibyte @ 150000 - 91% complete.Erasing 32 Kibyte @ 158000 - 93% complete.Erasing 32 Kibyte @ 160000 - 95% complete.Erasing 32 Kibyte @ 168000 - 97% complete.Erasing 32 Kibyte @ 170000 - 100% complete.
Write mtd2 complete!
-------- do mtd2 succ-----
get header info: mtd0 164572 resv 83ca2f757ab2396d61704aa143048da2
-------- do mtd0 ---------
Erasing 32 Kibyte @ 0 -  0% complete.Erasing 32 Kibyte @ 8000 - 16% complete.Erasing 32 Kibyte @ 10000 - 33% complete.Erasing 32 Kibyte @ 18000 - 50% complete.Erasing 32 Kibyte @ 20000 - 66% complete.Erasing 32 Kibyte @ 28000 - 83% complete.Erasing 32 Kibyte @ 30000 - 100% complete.
Write mtd0 complete!
-------- do mtd0 succ-----
get header info: opt.tgz 34341 resv e0fe216bf87b966dfb66f9a27543a4e9
+ rm -f /tmp/upgrade.tgz
+ sync
+ return 0
root@jabsco:~# 